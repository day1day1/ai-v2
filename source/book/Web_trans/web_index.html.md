#web事务
在用户选定时间内显示该时间段所产生的top5响应时间最长web事务、web事务列表，用户可以按条件进行筛选、选择关注的指标查看、web事务列表导出。
其中，用户可以按平均响应时间、每分钟调用次数、集群名称、类型（uri、http等）进行筛选
![](/images/webtrans_10.png)

##定位具体web事务问题
基于各种各样的方式，比如来自于用户的投诉、内部同事的反馈、基于报警规则的邮件通知、直接在web事务列表中筛选响应时间较大或健康度为不健康的web事务等，我们可以感知到web事务的缓慢情况。使用AI可以详细的定位问题。

###1. 慢web事务选择
在web事务列表中选择按健康度或响应时间、调用次数、缓慢次数等指标进行排序，选择要分析的慢web事务。
![](/images/webtrans_11.png)

###2. 慢响应时间段web事务钻取
在选定时间段内选择top5web事务响应时间较大的点，进行钻取，获取更详细的该时间段内产生的web事务。
![](/images/webtrans_12.png)

###3. 慢web事务分析
选中某条慢web事务后，点击进入详情，可以查看总览、trace、性能剖析。  

**3.1 总览**  
总览页面可以查看由平均响应时间、执行时间、执行次数、调用次数等性能指标组成的web事务曲线图、每分钟调用次数曲线图、错误率曲线图、事务运行过程中的最慢组件。
![](/images/webtrans_13.png)

**3.2 trace分析**  
在抓取的trace列表中，可以根据用户体验、响应时间、url等搜索条件筛选慢trace，点击某条trace数据，可以查看该trace的详情分析，包括概要、调用栈的执行分析、请求参数与调用参数、sql、调用拓扑。如您开启了快照功能，当系统捕捉到快照数据时，对应的trace左侧图标变成蓝色，您可以进行更深层次的问题定位查看。（如何开启snapshot功能，可查看[如何开启snapshot](http://docs-ai.oneapm.com/qa/)）    
![](/images/webtrans_14.png)  
调用栈详情中红色部分表示耗用时间较长，用户可就分析结果进行自己的业务代码查看。  
![](/images/webtrans_15.png)  
![](/images/webtrans_16.png)  
![](/images/webtrans_17.png)  
![](/images/webtrans_18.png)  
![](/images/webtrans_19.png)  

**3.3 慢trace列表钻取**  
慢trace列表钻取有两个入口，如下所示。在获取响应的trace列表后，选择某条自己关心的trace，进行详细的trace分析。 

入口1：总览页面  
![](/images/webtrans_20.png)  

入口2：trace页面
![](/images/webtrans_02.png)

**3.4 性能剖析**  
性能剖析为关键事务提供更多的细节信息，包括trace响应时间分布、响应时间&吞吐量、服务器宕机曲线图、耗时最长时间统计、线程分析等。 
 
* 创建性能剖析
选择探针，自定义性能剖析名称、采样周期、最大跟踪数、采样持续时间，AI系统会自动进行数据采集，采样时间结束后，自动结束性能剖析任务，状态变更为结束。
![](/images/webtrans_21.png)

* 性能分析详情查看
![](/images/webtrans_22.png) 

    cpu消耗、线程与锁等原生调用栈、解析调用栈详情分析
![](/images/webtrans_23.png)

