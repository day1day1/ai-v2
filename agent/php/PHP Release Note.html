<!doctype html>
<html>
  <head>
    <meta name="keywords" content="端到端应用性能管理,Application Insight,OneAPM Ai">
<meta name="description" content="OneAPM Application Insight是一个真实可见的应用性能监控系统，从用户体验到网络服务，直至应用代码, 帮助您完成端到端的应用性能管理，OneAPM Ai通过 Apdex、报警、错误率让您了解应用性能对用户使用体验的影响，从而挖掘应用可优化的范围">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<!-- Use title if it's in the page YAML frontmatter -->
<title>Application Insight 文档</title>

  <script type="text/javascript">
    // if (window.location.hostname === 'www.oneapm.com') {
    //   var pathnameSegs = window.location.pathname.split("/docs/ci");
    //   var realPathname = pathnameSegs[pathnameSegs.length - 1];
    //   window.location.href = 'http://101.200.76.159:4567' + realPathname;
    // } else if (window.location.hostname !== 'docs-ci.oneapm.com') {
    //   window.location.href = 'http://101.200.76.159:4567' + window.location.pathname;
    // }
  </script>

<script>var _hmt = _hmt || []; (function(){var hm = document.createElement("script");hm.src="https://hm.baidu.com/hm.js?eb7c5a354730562c0be3470554f756e7";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm, s);})();</script> 

<!-- growingio -->
<script type='text/javascript'>
      var _vds = _vds || [];
      window._vds = _vds;
      (function(){
        _vds.push(['setAccountId', 'a78f5e02538f4b2b88cd4fee708bc11b']);
        (function() {
          var vds = document.createElement('script');
          vds.type='text/javascript';
          vds.async = true;
          vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(vds, s);
        })();
      })();
  </script>


<link href="/stylesheets/site.css" rel="stylesheet" />
<script src="/javascripts/jquery-2.2.1.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>
<script src="/javascripts/all.js"></script>
<style media="screen">
  .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight {
  color: #faf6e4;
  background-color: #122b3b;
}
.highlight .gl {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .gp {
  color: #a8e1fe;
  font-weight: bold;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #6c8b9f;
  font-style: italic;
}
.highlight .cp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .err {
  color: #fefeec;
  background-color: #cc0000;
}
.highlight .gr {
  color: #cc0000;
  font-weight: bold;
  font-style: italic;
}
.highlight .k, .highlight .kd, .highlight .kv {
  color: #f6dd62;
  font-weight: bold;
}
.highlight .o, .highlight .ow {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .p, .highlight .pi {
  color: #4df4ff;
}
.highlight .gd {
  color: #cc0000;
}
.highlight .gi {
  color: #b2fd6d;
}
.highlight .ge {
  font-style: italic;
}
.highlight .gs {
  font-weight: bold;
}
.highlight .gt {
  color: #dee5e7;
  background-color: #4e5d62;
}
.highlight .kc {
  color: #f696db;
  font-weight: bold;
}
.highlight .kn {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kp {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kr {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gh {
  color: #ffb000;
  font-weight: bold;
}
.highlight .gu {
  color: #ffb000;
  font-weight: bold;
}
.highlight .kt {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .no {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nc {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nd {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nn {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .bp {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .ne {
  color: #b2fd6d;
  font-weight: bold;
}
.highlight .nl {
  color: #ffb000;
  font-weight: bold;
}
.highlight .nt {
  color: #ffb000;
  font-weight: bold;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #f696db;
  font-weight: bold;
}
.highlight .ld {
  color: #f696db;
  font-weight: bold;
}
.highlight .ss {
  color: #f696db;
  font-weight: bold;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .sr, .highlight .s1 {
  color: #fff0a6;
  font-weight: bold;
}
.highlight .se {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .sc {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .si {
  color: #4df4ff;
  font-weight: bold;
}
.highlight .nb {
  font-weight: bold;
}
.highlight .ni {
  color: #999999;
  font-weight: bold;
}
.highlight .w {
  color: #BBBBBB;
}
.highlight .go {
  color: #BBBBBB;
}
.highlight .nf, .highlight .fm {
  color: #a8e1fe;
}
.highlight .py {
  color: #a8e1fe;
}
.highlight .na {
  color: #a8e1fe;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi, .highlight .vm {
  color: #a8e1fe;
  font-weight: bold;
}
</style>

  </head>

  <body class="page-agent agent_php agent_php_PHP-Release-Note">
      <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56334895-2', 'auto');
    ga('send', 'pageview');

  </script>

<header class="main-header clearfix">
	<div class="main-navblock col-lg-12 col-md-12 col-sm-12 col-xs-12"><div>
		<a href="../index.html" class="logo-container">
			<div class="oneapm-logo"></div>
		</a>
	</div>
	<a href="#" class="burger-wrapper">
		<div class="burger"></div>
	</a>
	<div class="nav-container">
		<ul class="nav-list">
			<li>
				<a href="/quick-start/">快速入门</a>
			</li>
			<li>
				<a href="/releasenote/">更新日志</a>
			</li>
			<li>
				<a href="/agent/">安装配置</a>
			</li>
			<li>
				<a href="/book/">功能说明</a>
			</li>
			<li>
				<a href="/bestpractice/">最佳实践</a>
			</li>
			<li>
				<a href="/qa/">常见问题</a>
			</li>
			<li>
				<a href="/contact/contact.html">联系我们</a>
			</li>
		</ul>
		<ul class="login-list">
			<li>
				<a href="http://user.oneapm.com/pages/v2/login?from=ai-docs" class="btn outline-dark" id="loginIn">登录</a>
			</li>
			<li>
				<a href="https://user.oneapm.com/pages/v2/signup?from=ai-docs" class="btn inside-yellow" id="signUp">注册</a>
			</li>
		</ul>
	</div>
</div>
</header>

<script type="text/javascript">
	$(function () {
		var key=window.location.pathname;
		var arr5=['agent','api','cloud-integration','services','services_example'];
		var arr1=['quick-start'];
		var arr3=['release-note','platform','dashboard','metric','alert','event'];
		var arr4=['use-case','best-practise','bestpractice'];
		var arr2=['qa'];
		var arr6=['book']
		var arr7=['releasenote']
		var Arr=[arr1,arr2,arr3,arr4,arr5,arr6,arr7];
		for(var i=0;i<7;i++) {
			$.each(Arr[i], function (e, a) {
				if (key.indexOf(a) !== -1) {
					switch (i + 1) {
						case 1:
						key = '/quick-start/';
						break;
						case 5:
						key = '/agent/';
						break;
						case 3:
						key = '/platform/';
						break;
						case 4:
						key = '/bestpractice/';
						break;
						case 2:
						key = '/qa/';
						break;
						case 6:
						key = '/book/';
						break;
						case 7:
						key = '/releasenote/';
					}
				}
			});
		}
		var keyInfo="'"+key+"'";
		var panelHead;
		panelHead= $(".nav-container  a[href="+keyInfo+"]");
		panelHead.addClass('show');
	});
</script>

    <div class="page-container">
      <div class="row">
        <div class="col-xs-3 page-sidebar hidden-sm hidden-xs">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingOne">
      <h4 class="panel-title">
        <a href="/agent/java/java_index.html" role="button">
          Java
        </a>
      </h4>
    </div>
     <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/java/installAgent.html">Java Agent 安装</a></li>
          <li><a href="/agent/java/auto.html">Java Agent 自动安装方法</a></li>
          <li><a href="/agent/java/manual.html">Java Agent 手动安装方法</a></li>
          <li><a href="/agent/java/AWS.html">AWS Wlastic Beanstalk 安装</a></li>
          <li><a href="/agent/java/coldFusionInstall.html">ColdFusion 安装</a></li>
          <li><a href="/agent/java/glassfishInstall.html">Glassfish 安装</a></li>
          <li><a href="/agent/java/jbossInstall.html">JBoos 安装</a></li>
          <li><a href="/agent/java/jettyInstall.html">Jetty 安装</a></li>
          <li><a href="/agent/java/jsvcInstall.html">Jsvc 安装</a></li>
          <li><a href="/agent/java/playInstall.html">Play 安装</a></li>
          <li><a href="/agent/java/ResinInstall.html">Resin 安装</a></li>
          <li><a href="/agent/java/weblogicInstall.html">WebLogic 安装</a></li>
          <li><a href="/agent/java/websphereInstall.html">WebSphere 安装</a></li>
          <li><a href="/agent/java/updateAgent.html">Java Agent 更新</a></li>
          <li><a href="/agent/java/javauninstall.html">Java Agent 卸载</a></li>
           <li><a href="/agent/java/config_help.html">Java Agent 参数配置</a></li>
          <li><a href="/agent/java/javaSupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
    <!--<div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">-->
      <!--<div class="panel-body">-->
        <!--<ul>-->
        <!--</ul>-->
      <!--</div>-->
    <!--</div>-->
  </div>
  
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingTwo">
      <h4 class="panel-title">
        <a href="/agent/php/php_index.html" class="collapsed">
          PHP
        </a>
      </h4>
    </div>
    <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/php/phpinstall.html">PHP Agent 安装</a></li>
           <li><a href="/agent/php/handinstall.html">PHP Agent 手动安装</a></li>
          <li><a href="/agent/php/phpupdate.html">PHP Agent 更新</a></li>
          <li><a href="/agent/php/phpuninstall.html">PHP Agent 卸载</a></li>
          <li><a href="/agent/php/phpconfig_help.html">PHP Agent 参数配置</a></li>
          <li><a href="/agent/php/phpSupport_help.html">兼容环境支持</a></li>
      </ul>
      </div>
    </div>
  </div>
  
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingThree">
      <h4 class="panel-title">
       <a href="/agent/net/dotnet_index.html" class="collapsed">
         .NET
        </a>
      </h4>
    </div>
    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/net/netinstall.html">.NET Agent 安装</a></li>
          <li><a href="/agent/net/netupdate.html">.NET Agent 更新</a></li>
          <li><a href="/agent/net/netuninstall.html">.NET Agent 卸载</a></li>
          <li><a href="/agent/net/netconfig_help.html">.NET Agent 参数配置</a></li>
          <li><a href="/agent/net/netSupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingFour">
      <h4 class="panel-title">
        <a href="/agent/python/python_index.html" class="collapsed">
          Python
        </a>
      </h4>
    </div>
    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/python/Pythoninstall.html">Python Agent 安装</a></li>
          <li><a href="/agent/python/PythonAgentupdate.html">Python Agent 更新</a></li>
          <li><a href="/agent/python/Pythonuninstall.html">Python Agent 卸载</a></li>
          <li><a href="/agent/python/Pythonconfig_help.html">Python Agent 参数配置</a></li>
          <li><a href="/agent/python/PythonSupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingFive">
      <h4 class="panel-title">
        <a href="/agent/nodejs/nodejs_index.html" class="collapsed">
          Node.js
        </a>
      </h4>
    </div>
    <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/nodejs/Nodejsinstall.html">Node.js Agent 安装</a></li>
          <li><a href="/agent/nodejs/Nodejsupdate.html">Node.js Agent 更新</a></li>
          <li><a href="/agent/nodejs/Nodejsuninstall.html">Node.js Agent 卸载</a></li>
          <li><a href="/agent/nodejs/Nodejsconfig_help.html">Node.js Agent 参数配置</a></li>
          <li><a href="/agent/nodejs/NodejsSupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  
  <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingSix">
      <h4 class="panel-title">
       <a href="/agent/ruby/ruby_index.html" class="collapsed">
          Ruby
        </a>
      </h4>
    </div>
    <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/ruby/Rubyinstall.html">Ruby Agent 安装</a></li>
          <li><a href="/agent/ruby/DockerRuby.html">OSX 环境下部署 Docker 并安装 Ruby 探针</a></li>
          <li><a href="/agent/ruby/Rubyupdate.html">Ruby Agent 更新</a></li>
          <li><a href="/agent/ruby/Rubyuninstall.html">Ruby Agent 卸载</a></li>
          <li><a href="/agent/ruby/Rubyconfig_help.html">Ruby Agent 参数配置</a></li>
          <li><a href="/agent/ruby/RubySupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
  </div>
  
      <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingSeven">
      <h4 class="panel-title">
        <a href="/agent/go/go_index.html" class="collapsed">
          Go
        </a>
      </h4>
    </div>
    <div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/go/Goinstall.html">Go Agent 安装</a></li>
		  <li><a href="/agent/go/Gobeego.html">Go beego 配置</a></li>
          <li><a href="/agent/go/GoAgentupdate.html">Go Agent 更新</a></li>
          <li><a href="/agent/go/Gouninstall.html">Go Agent 卸载</a></li>
          <li><a href="/agent/go/Gocollectorconfig_help.html">Go Collector 参数配置</a></li>
		  <li><a href="/agent/go/Goagentconfig_help.html">Go Agent 参数配置</a></li>
          <li><a href="/agent/go/GoSupport_help.html">兼容环境支持</a></li>
        </ul>
      </div>
    </div>
  </div>
  
   <div class="panel panel-default">
    <div class="panel-heading" role="tab" id="headingEight">
      <h4 class="panel-title">
        <a href="/agent/hostagent/hostagent_index.html" class="collapsed">
          Host Agent
        </a>
      </h4>
    </div>
    <div id="collapseEight" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingEight">
      <div class="panel-body">
        <ul>
          <li><a href="/agent/hostagent/hostagentinstall.html">Host Agent 安装</a></li>
          <li><a href="/agent/hostagent/hostagentupdate.html">Host Agent 更新</a></li>
          <li><a href="/agent/hostagent/hostagentuninstall.html">Host Agent 卸载</a></li>
          <li><a href="/agent/hostagent/hostagentSupport_help.html">兼容环境支持</a></li>
      </ul>
      </div>
    </div>
  </div>
  
  
  
</div>

        </div>
        <div class="col-lg-9 page-body">
          <div class="body-box">
            <h1>PHP Release Note</h1>

<p>OneAPM 管理员 发表于 2015年06月09日 15:41 最后修改于 2016年09月21日 12:02 
*OneAPM PHP Agent 2.8.1.0
发布时间：2018.08.24
新功能：
    探针支持php7.2
*OneAPM PHP Agent 2.6.0
发布日期：2016.11.08
解决问题:
    1.demon进程crash
    2.后台任务没有数据
    3.外部服务信息命名展示不正确
    4.错误信息页面，没能抓取后台任务产生的错误信息
    5.agent连接daemon失败，daemon进程crash
    6.没有慢sql信息
    7.无法查询版本号信息
    8.nginx+php7.0.11_zts环境下加载agent弹框
    9.安装过程中daemon报错
    10.安装过程报错，php.ini没有被写入
    11.手动安装执行dumpbin.exe，报错   </p>

<ul>
<li><p>OneAPM PHP Agent 2.5.3
发布日期：2016.09.08
新功能：
1.非root用户安装
2.SaaS Ai 支持PHP7 CI Laravel4.2框架
优化：
1.解决daemon一次发送 metric 数据过多
2.修改安装脚本，使安装脚本可以根据参数，手动安装
3.数据中断现象(断点续传)
解决问题：
    1.服务器返回 417 错误
    2.非root下安装脚本问题
    3.Daemon 一次 log 打印超过1 MB 时，log 乱码
    4.php分布式 trace，在 php 进程过多，daemon 获取的 trace 可能是全是不计数 trace
    5.Agent安装后，频繁重启 php-fpm ,导致出 core</p></li>
<li><p>OneAPM PHP Agent 2.4.7
发布日期：2016.05.03
新功能：
1.可以对服务器中不想监控的端口进行屏蔽
优化：
1.修复 php 探针格式，与 server 端同步
解决问题：
1.数据库详情中 Breakdown Table 没有数据问题</p></li>
<li><p>OneAPM PHP Agent 2.4.5
发布日期：2016.02.25
改进：
1.应用配置完善支持多线程模式
2.slowsql 按照事务和 sqlid 一起合并
修复：
1.不同时区用户无法正常使用探针
2.无法通过 VisualGDB 编译
3.其它 Bug</p></li>
<li><p>OneAPM PHP Agent 2.4.4
发布日期：2016.01.27
改进：
1.为trace抓取节点限制增加阀值
2.修改现在获取应用名称机制，改为使用固定应用名称
3.增加 enable-rate 功能
4.增加默认申请的trace节点个数
修复：
1.浏览器功能开启，不会自动插码，bi无数据
2.慢事务里面看不到平均响应时间最长的web事务
3.breakdown table 只展示SQL跟外部服务
4.trace 中没有数据库信息
5.调用栈信息错误</p></li>
<li><p>OneAPM PHP Agent 2.4.3
发布日期：2016.01.07
新增：
1.daemon 支持自动重新加载 loglevel
2.添加 daemon 停止特性（可以通过<code>oneapm-daemon -s stop</code>杀掉 daemon，不再需要 ps 再 kill）
改进：
1.探针性能优化
2.探针日志代码重构
3.数据库、外部服务代码抽离解耦
4.脚本 refactor
5.安装脚本优化
6.提升稳定性
修复：
1.数据库数据为空
2.slowsql 数据超过100条时 daemon 会将其清掉重新收集
3.post 参数中包含 <code>\r</code> 导致 trace 数据解析错误
4.请求参数中存在 <code>\r</code> 导致参数解析错误 
5.daemon 死锁问题</p></li>
</ul>

<p>*OneAPM PHP Agent 2.4.2
发布日期：2015/12/18
增加功能：
    1.增加后台任务的功能。
    2.支持两个 PHP 框架 laravel4.2 和 laravel5。
优化功能：
    1.修改编译脚本，可以根据 git 号来自动编译。
    2.将 metric data 中的 memory 与 CPU 数据移到 daemon 里。
    3.简化 PHP 安装步骤。
    4.php.ini 文件中给 OneAPM 配置部分加入开始和结束标记。
    5.优化 apm<em>get</em>database<em>metric</em>name。
    6.添加对子表查询和 replace 语句的的匹配支持。
    7.备份 php.ini,并增加前后项对比。
    8.对非 CRUD 操作的数据抓取支持。
修复问题：
    1.修复安装后，安装脚本信息显示不正确问题。
    2.修复安装过程中 appname 双引号中的空格无法解析问题。
    3.修复部分用户安装之后 agent crash 问题。
    4.修复部分用户安装失败问题。
    5.修复不能正确获得带注释的 SQL 中的表名问题。
    6.修复在阿里云平台上，agent、daemon 不能通信问题。
    7.修复新版本探针已支持框架有时无法被识别的问题。</p>

<p>*OneAPM PHP Agent for PHP 7 Beta 1.0.0.27
备注：此版本只支持 PHP 7，不向下兼容。
发布日期：2015/12/3
最后更新日期：2015/12/10
操作系统支持：
    1.CentOS 5.5 及以上
    2.Ubuntu 11.04 及以上
功能模块支持：
    1.拓扑图
    2.Web 事物
    3.慢事务
    4.数据库
    5.慢 SQL
    6.错误信息
    7.Web 事物报表
    8.数据库报表</p>

<p>*OneAPM PHP Agent 2.4.1
发布日期：2015/11/18
增加功能：
    1.新增应用设置功能，支持在控制台直接动态更改探针配置。
优化功能：
    2.安装脚本支持使用参数完成环境变量配置，配置全部变量之后自动切换为静默安装；
    3.优化数据处理算法，提高处理效率。
修复问题：
    1.更新 daemon 上传规则，修复总览页面响应时间图表掉点问题；
    2.修复一个可能导致 oneapm.so crash 的 bug；
    3.修复 CodeIgniter 和 Yii 框架部分情况下无法自动拆分 Web 事务的问题；
    4.修复 oneapm.so 启动时可能无法与 oneapm-daemon 通信的问题；
    5.修复了部分情况下无法自动拆分 ThinkPHP 与 CodeIgniter URL 的问题。</p>

<p>*OneAPM PHP Agent 2.4.0
发布日期：2015/10/08
增加功能：
    1.新增通过 PHP Agent 自动注入 Bi Agent 脚本功能；
    2.新增通过 PHP Agent Bi API 注入 Bi Agent 脚本功能；
    3.新增对 pathinfo 格式 URI 的支持；
    4.新增 PHP 应用和 Java 应用的数据打通，具有调用关系的应用能直接在调用栈中跳转；
    5.新增对 Yii 2.0 的支持，优化对 Yii 1.1 的支持；
    6.新增在调用栈中显示代码所在行号；
    7.增加对 HTTPS 传输的支持；
    8.增加对代理配置的支持；
    9.增加对 FreeBSD 系统的支持。
优化功能：
    1.优化安装脚本，在监测到 PHP 环境存在问题时终止安装程序；
    2.优化安装脚本，在无法监测到有效 php.ini 文件时提示用户手动指定绝对路径；
    3.优化 Agent 和 daemon 通信规则，进一步降低资源占用；
    4.优化按子域名拆分聚合的规则，逻辑更加人性化；
    5.优化外部服务时间计算规则，结果更加人性化。
修复问题：
    1.修复在新版本 UI 中，具体外部服务页面中调用者时间占比为空的问题；
    2.修复在新版本 UI 中，拓扑页面的 Web 事务详情中没有外部服务的问题；
    3.修复在新版本 UI 中，错误信息页面自定义参数缺失的问题；
    4.修复在同一台机器部署多个应用时数据合并的问题；
    5.修复在极少数情况下不能通过 kill 命令结束 oneapm-daemon 的问题；
    6.修复在极少数情况下无法启动 oneapm-daemon 的问题；
    7.修复在极少数情况下可能出现的崩溃问题。
备注：
    本次发布的探针暂不支持 PHP 5.2。</p>

<p>*OneAPM PHP Agent 2.3.12
发布日期：2015/07/14
修复问题：
    1.修复 2.3.11 探针在极少数环境下 daemon 重启问题；
    2.修复 BTM 配置无法更新问题。
增加功能：
    1.支持 business transaction （自定义事务）功能
    2.增加对 fsockopen 接口数据的抓取功能
    3.Agent 的 log 大小限制在 30MB 左右
    4.Daemon 的 log 大小限制在 512MB 左右
    5.Daemon 上传数据使用 Deflate 压缩</p>

<p>*OneAPM PHP Agent 2.3.11
发布日期：2015/06/23
修复问题：
    1.修复 PHP Agent 2.3.10 安装脚本卸载命令 purge 不能用的问题。移除 purge 命令，Uninstall 命令直接完全删除。
增加功能：
    1.切换按照网站名显示服务器，默认情况下按照 hostname 命名服务器。
    2.通过设置 oneapm.usesitename=true，切换成按照 $<em>SERVER[&lsquo;HTTP</em>HOST&rsquo;] 的值命名服务器。
    3.Web 事务参数配置功能增加对 POST 参数的支持。
新增功能：
    1.新增Business Transactions 功能，支持自定义参数拆分 Web 事务。
    2.URI 参数的”等于“匹配模式。
    3.HTTP 参数的”等于“匹配模式。
    4.Header 参数的”等于“匹配模式。</p>

<p>*OneAPM PHP Agent 2.3.10
发布日期：2015/06／11
修复问题：
    1.解决单一入口的问题。
增加功能：
    1.php.ini 中新增2个用于配置事务名的解决配置项，分别是 auto<em>transcation</em>args 和 auto<em>transcation</em>naming。</p>

<p>*OneAPM PHP Agent 2.3.9
发布日期：2015/06／2
修复问题：
    1.修复“总览 &gt; web 事务”中 Trace 只显示 {main} 的 Bug；
    2.修复 Apdex 值不准确问题。
增加功能：
    1.新增对 NoSQL 的支持(Redis, MongoDB, Memcache, Memcached)；
    2.优化脚本安装流程。</p>

<p>*OneAPM PHP Agent 2.3.8
发布日期：2015/05／26
修复问题：
    1.优化 oneapm-daemon 内存占用问题，资源消耗明显下降，性能显著提升；
    2.重启 PHP 应用 oneapm-daemon 伴随启动，无需手动启动 oneapm-daemon。
增加功能：
    1.完善 php.ini 文件中的配置项。</p>

<p>*OneAPM PHP Agent 2.3.7
发布日期：2015/04／30
修复问题：
    1.修复 ubuntu 系统，多个 php.ini 没有正确配置的问题。</p>

<p>*OneAPM PHP Agent 2.3.6
发布日期：2015/04／27
修复问题：
    1.修复没有 php 扩展目录时，安装失败的问题。
增加功能：
    1.支持自动监控前端浏览器性能；
    2.安装脚本添加升级功能；
    3.在配置选项中，可配置错误报告级别。</p>

<p>*OneAPM PHP Agent 2.3.5
发布日期：2015/04／21
修复问题：
    1.大幅提升 PHP Agent 性能；
    2.修复 PHP2.3.1 不支持 amh4.2 和框架报错的问题；
    3.修复出现多服务器的问题。
增加功能：
    1.支持 PHP 5.2；
    2.安装脚本添加升级功能 。</p>

<p>*OneAPM PHP Agent 2.2.1
发布日期：2015/3/11
修复问题：
    1.解决各别用户 uri 为空的问题。
增加功能：
    1.新增支持 PostgreSQL 数据库。</p>

<p>*OneAPM PHP Agent 2.0.1
发布日期：2015/3/6
修复问题：
    1.解决安装探针后无法启动的 php-fpm 问题。
增加功能：
    1.新增支持PHP 5.6；
    2.新增&quot;应用程序-监控-总览-响应时间图表&quot;中外部事物曲线信息的功能。</p>

<p>*OneAPM PHP Agent 1.0.1.47
发布日期：2015/2/13
修复问题：
    1.解决 discuz 框架压测一段时间没有数据问题;
    2.解决配置文件文字提示出入问题;
    3.解决 php-daemon 自动退出问题;
    4.其他小问题的 fix。
增加功能：
    1.支持外部服务功能;
    2.支持 AMH 面板环境;
    3.支持 phpMyAdmin 环境;
    4.安装脚本修改,无需输入安装目录。</p>

            <!--<hr style="margin-top: 50px;" />
<div class="alert alert-warning" style="text-align:center; margin: 40px 0px;">
  <p style="font-size: 16px;">
    如果您对 AI 感兴趣，可以选择试用我们的产品，只需要点击下面的按钮免费注册即可。
  </p>
  <br />
  <p>
    <a href="https://user.oneapm.com/account/register.do?ref=https://cloud.oneapm.com&from=ci-docs" class="btn btn-info btn-lg" target="_blank">
      立即注册 AI
    </a>
  </p>
</div>
<hr />
<!-多说评论框 start -->
<!--<div class="ds-thread"
     id="ds-thread"
     data-thread-key=""
     data-title=""
   data-url=""></div>
<!-多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<!--<script type="text/javascript">
  var titleTag = document.getElementsByTagName("h1")[0];

  if (titleTag) {
    title = document.getElementsByTagName("h1")[0].innerText;
  } else {
    title = "";
  }

  var duoshuoTag = document.getElementById('ds-thread');
  duoshuoTag.setAttribute('data-thread-key', title.replace(/\s/g, ''));
  duoshuoTag.setAttribute('data-title', title);

  var duoshuoQuery = {short_name:"docs-ci"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>-->
<!-- 多说公共JS代码 end -->


            <div class="return"></div>
          </div>
          <div class="footer-in">
            
          </div>
        </div>
      </div>
    </div>


    <script type="text/javascript">
      $(function() {
        // $(".navbar-default .navbar-nav a[href='/agent/']").parent().addClass("active");
        (function () {
            $('.panel-default').mouseenter(function () {
              if(!$(this).hasClass('active')){
                $(this).children().addClass('in');
              }
            });
            $('.panel-default').mouseleave(function () {
              if(!$(this).hasClass('active')) {
                $(this).children().removeClass('in');
              }
            });
            var key=window.location.pathname;
            var keyInfo="'"+key+"'";
            var panelHead;
            if(keyInfo.indexOf('index') !== -1){
              panelHead= $(".panel-default  a[href="+keyInfo+"]").parent().parent();
              panelHead.siblings().addClass('in');
              panelHead.parent().siblings('div').map(function () {
                $(this).removeClass('active');
              });
              panelHead.parent().addClass('active');
            }else if(keyInfo.indexOf('.') <0) {
              keyInfo="'"+key+"java_index.html"+"'";
              panelHead= $(".panel-default  a[href="+keyInfo+"]").parent().parent();
              panelHead.siblings().addClass('in');
              panelHead.parent().siblings('div').map(function () {
                $(this).removeClass('active');
              });
              panelHead.parent().addClass('active');
            }else {
                panelHead= $(".panel-default  a[href="+keyInfo+"]").parent().parent().parent().parent();
                panelHead.addClass('in');
                panelHead.parent().siblings('div').map(function () {
                  $(this).removeClass('active');
                });
                panelHead.parent().addClass('active');
              }
          })();
      });
    </script>
  </body>
</html>
